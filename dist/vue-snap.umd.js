(function(y,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(y=typeof globalThis<"u"?globalThis:y||self,t(y.VueSnap={},y.Vue))})(this,function(y,t){"use strict";var E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var k,J;function K(){if(J)return k;J=1;function e(r){var i=typeof r;return r!=null&&(i=="object"||i=="function")}return k=e,k}var B,Q;function ye(){if(Q)return B;Q=1;var e=typeof E=="object"&&E&&E.Object===Object&&E;return B=e,B}var N,Y;function ee(){if(Y)return N;Y=1;var e=ye(),r=typeof self=="object"&&self&&self.Object===Object&&self,i=e||r||Function("return this")();return N=i,N}var W,te;function Se(){if(te)return W;te=1;var e=ee(),r=function(){return e.Date.now()};return W=r,W}var x,re;function _e(){if(re)return x;re=1;var e=/\s/;function r(i){for(var n=i.length;n--&&e.test(i.charAt(n)););return n}return x=r,x}var P,ne;function Te(){if(ne)return P;ne=1;var e=_e(),r=/^\s+/;function i(n){return n&&n.slice(0,e(n)+1).replace(r,"")}return P=i,P}var $,ie;function oe(){if(ie)return $;ie=1;var e=ee(),r=e.Symbol;return $=r,$}var D,ae;function we(){if(ae)return D;ae=1;var e=oe(),r=Object.prototype,i=r.hasOwnProperty,n=r.toString,s=e?e.toStringTag:void 0;function b(c){var f=i.call(c,s),d=c[s];try{c[s]=void 0;var o=!0}catch{}var g=n.call(c);return o&&(f?c[s]=d:delete c[s]),g}return D=b,D}var G,se;function Oe(){if(se)return G;se=1;var e=Object.prototype,r=e.toString;function i(n){return r.call(n)}return G=i,G}var M,ue;function je(){if(ue)return M;ue=1;var e=oe(),r=we(),i=Oe(),n="[object Null]",s="[object Undefined]",b=e?e.toStringTag:void 0;function c(f){return f==null?f===void 0?s:n:b&&b in Object(f)?r(f):i(f)}return M=c,M}var A,le;function Re(){if(le)return A;le=1;function e(r){return r!=null&&typeof r=="object"}return A=e,A}var V,ce;function qe(){if(ce)return V;ce=1;var e=je(),r=Re(),i="[object Symbol]";function n(s){return typeof s=="symbol"||r(s)&&e(s)==i}return V=n,V}var U,fe;function Ee(){if(fe)return U;fe=1;var e=Te(),r=K(),i=qe(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;function d(o){if(typeof o=="number")return o;if(i(o))return n;if(r(o)){var g=typeof o.valueOf=="function"?o.valueOf():o;o=r(g)?g+"":g}if(typeof o!="string")return o===0?o:+o;o=e(o);var v=b.test(o);return v||c.test(o)?f(o.slice(2),v?2:8):s.test(o)?n:+o}return U=d,U}var F,de;function Le(){if(de)return F;de=1;var e=K(),r=Se(),i=Ee(),n="Expected a function",s=Math.max,b=Math.min;function c(f,d,o){var g,v,S,h,m,p,T=0,I=!1,w=!1,O=!0;if(typeof f!="function")throw new TypeError(n);d=i(d)||0,e(o)&&(I=!!o.leading,w="maxWait"in o,S=w?s(i(o.maxWait)||0,d):S,O="trailing"in o?!!o.trailing:O);function j(l){var _=g,q=v;return g=v=void 0,T=l,h=f.apply(q,_),h}function H(l){return T=l,m=setTimeout(a,d),I?j(l):h}function R(l){var _=l-p,q=l-T,he=d-_;return w?b(he,S-q):he}function C(l){var _=l-p,q=l-T;return p===void 0||_>=d||_<0||w&&q>=S}function a(){var l=r();if(C(l))return u(l);m=setTimeout(a,R(l))}function u(l){return m=void 0,O&&g?j(l):(g=v=void 0,h)}function X(){m!==void 0&&clearTimeout(m),T=0,g=p=v=m=void 0}function De(){return m===void 0?h:u(r())}function Z(){var l=r(),_=C(l);if(g=arguments,v=this,p=l,_){if(m===void 0)return H(p);if(w)return clearTimeout(m),m=setTimeout(a,d),j(p)}return m===void 0&&(m=setTimeout(a,d)),h}return Z.cancel=X,Z.flush=De,Z}return F=c,F}var Ie=Le();const z=pe(Ie),L=(e,r,i)=>Math.abs(e-r)<=i,be=!(typeof window>"u"),Ce={class:"vs-carousel"},ke=["aria-label","disabled"],Be=["aria-label","disabled"],Ne=100,ve=410,me={__name:"Carousel",props:{hideArrows:{type:Boolean,default:!1},hideArrowsOnBound:{type:Boolean,default:!1},tag:{type:String,default:"ul"},i18n:{type:Object,default:()=>({slideLeft:"Slide left",slideRight:"Slide right"}),validator:e=>["slideLeft","slideRight"].every(i=>i in e)}},emits:["page","bound-left","bound-right"],setup(e,{emit:r}){const i=r,n=t.ref(null),s=t.ref(!0),b=t.ref(!1),c=t.ref([]),f=t.ref(0),d=t.ref(0),o=t.ref(0),g=t.ref(0),v=t.ref(0),S=t.ref(null),h=()=>{n.value&&(T(),I(),j(),O(),p())},m=z(()=>{n.value&&(j(),O(),p())},Ne),p=()=>{const a=L(v.value,0,5),u=L(f.value-d.value,v.value,5);s.value=a,b.value=u},T=()=>{f.value=n.value.scrollWidth,d.value=n.value.offsetWidth},I=()=>{const a=[...n.value.children];c.value=a.map(u=>({offsetLeft:u.offsetLeft,width:u.offsetWidth}))},w=()=>L(v.value+d.value,f.value,5)?c.value.length-1:c.value.findIndex(a=>L(a.offsetLeft,v.value,5)),O=a=>{const u=a!==void 0?a:w();u<0||(g.value=o.value,o.value=u>0?u:0)},j=()=>{v.value=n.value.scrollLeft||0},H=()=>{S.value=new MutationObserver(()=>{h()}),S.value.observe(n.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0})},R=a=>{C(o.value+a)},C=a=>{c.value[a]&&(n.value.scrollTo({left:c.value[a].offsetLeft,behavior:"smooth"}),O(a))};return t.onMounted(()=>{h(),be&&(window.addEventListener("resize",z(h,ve),!1),n.value.addEventListener("scroll",m),H())}),t.onBeforeUnmount(()=>{be&&(S.value.disconnect(),n.value.removeEventListener("scroll",m),window.removeEventListener("resize",z(h,ve),!1))}),t.watch(o,(a,u)=>{a!==u&&i("page",{currentPage:a,previousPage:u})}),t.watch(s,a=>{a&&i("bound-left",!0)}),t.watch(b,a=>{a&&i("bound-right",!0)}),(a,u)=>(t.openBlock(),t.createElementBlock("div",Ce,[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.tag),{ref_key:"vsWrapper",ref:n,class:"vs-carousel__wrapper"},{default:t.withCtx(()=>[t.renderSlot(a.$slots,"default")]),_:3},512)),e.hideArrows?t.createCommentVNode("",!0):t.renderSlot(a.$slots,"arrows",{key:0,changeSlide:R,boundLeft:s.value,boundRight:b.value},()=>[t.withDirectives(t.createElementVNode("button",{type:"button","aria-label":e.i18n.slideLeft,disabled:s.value,class:"vs-carousel__arrows vs-carousel__arrows--left",onClick:u[0]||(u[0]=X=>R(-1))}," ← ",8,ke),[[t.vShow,e.hideArrowsOnBound?!s.value:!0]]),t.withDirectives(t.createElementVNode("button",{type:"button","aria-label":e.i18n.slideRight,disabled:b.value,class:"vs-carousel__arrows vs-carousel__arrows--right",onClick:u[1]||(u[1]=X=>R(1))}," → ",8,Be),[[t.vShow,e.hideArrowsOnBound?!b.value:!0]])])]))}},We=(e,r)=>{const i=e.__vccOpts||e;for(const[n,s]of r)i[n]=s;return i},xe=t.defineComponent({props:{tag:{type:String,default:"li"}}});function Pe(e,r,i,n,s,b){return t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.tag),{ref:"vsSlide",class:"vs-carousel__slide",tabindex:"0"},{default:t.withCtx(()=>[t.renderSlot(e.$slots,"default")]),_:3},512)}const ge=We(xe,[["render",Pe]]),$e={install:e=>{e.component("Carousel",me),e.component("Slide",ge)}};y.Carousel=me,y.Slide=ge,y.default=$e,Object.defineProperties(y,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});

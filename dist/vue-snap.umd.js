(function(r,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.VueSnap={},r.Vue))})(this,function(r,e){"use strict";const b=typeof window<"u",C=(t,n,o=5)=>Math.abs(t-n)<=o;function L(t,n){let o=null;const a=(...u)=>{o&&clearTimeout(o),o=setTimeout(()=>{t(...u)},n)};return a.cancel=()=>{o&&clearTimeout(o),o=null},a}const T=100;function k(t,n){const o=e.ref(!0),a=e.ref(!1),u=e.ref(0),d=()=>{var l;return[...(l=n.value)==null?void 0:l.children].map(({offsetLeft:s,offsetWidth:i})=>({offsetLeft:s,offsetWidth:i}))},m=l=>l.findIndex(({offsetLeft:s})=>C(s,n.value.scrollLeft,10)),f=l=>{const{scrollLeft:s,offsetWidth:i,scrollWidth:_}=n.value;l!==u.value&&t("slideChange",l),u.value=l;const B=l===0,I=C(s+i,_,10);B?(o.value=!0,t("leftBound",!0)):o.value=!1,I?(a.value=!0,t("rightBound",!0)):a.value=!1},h=l=>{const s=d(),i=m(s);if(i===-1)return;const _=i+l,B=s[_];B&&n.value.scrollTo({left:B.offsetLeft,behavior:"smooth"})},S=l=>{const i=d()[l];i&&n.value.scrollTo({left:i.offsetLeft,behavior:"smooth"})},c=()=>{const l=d(),s=m(l);s!==-1&&f(s)},g=L(c,T);return e.onMounted(()=>{!b||!n.value||(c(),n.value.addEventListener("scroll",g),t("mounted",!0))}),e.onBeforeUnmount(()=>{!b||!n.value||n.value.removeEventListener("scroll",g)}),{goToSlide:S,changeSlide:h,isBoundLeft:o,isBoundRight:a}}const E={class:"vs-carousel"},R=["aria-label","disabled"],x=["aria-label","disabled"],w=e.defineComponent({__name:"Carousel",props:{tag:{type:String,default:"ul"},hideArrowsOnBound:{type:Boolean,default:!1},i18n:{default:()=>({slideLeft:"Slide left",slideRight:"Slide right"}),validator:t=>["slideLeft","slideRight"].every(n=>n in t)}},emits:["mounted","slideChange","leftBound","rightBound"],setup(t,{expose:n,emit:o}){const a=o,u=e.ref(null),{changeSlide:d,goToSlide:m,isBoundLeft:f,isBoundRight:h}=k(a,u);return n({changeSlide:d,goToSlide:m}),(S,c)=>(e.openBlock(),e.createElementBlock("div",E,[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.tag),{ref_key:"vsWrapper",ref:u,class:"vs-carousel__wrapper"},{default:e.withCtx(()=>[e.renderSlot(S.$slots,"default")]),_:3},512)),e.renderSlot(S.$slots,"arrows",e.normalizeProps(e.guardReactiveProps({changeSlide:e.unref(d),isBoundLeft:e.unref(f),isBoundRight:e.unref(h)})),()=>[e.withDirectives(e.createElementVNode("button",{type:"button","aria-label":t.i18n.slideLeft,disabled:e.unref(f),class:"vs-carousel__arrows vs-carousel__arrows--left",onClick:c[0]||(c[0]=g=>e.unref(d)(-1))}," ← ",8,R),[[e.vShow,t.hideArrowsOnBound?!e.unref(f):!0]]),e.withDirectives(e.createElementVNode("button",{type:"button","aria-label":t.i18n.slideRight,disabled:e.unref(h),class:"vs-carousel__arrows vs-carousel__arrows--right",onClick:c[1]||(c[1]=g=>e.unref(d)(1))}," → ",8,x),[[e.vShow,t.hideArrowsOnBound?!e.unref(h):!0]])])]))}}),p=e.defineComponent({__name:"Slide",props:{tag:{type:String,default:"li"}},setup(t){return(n,o)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.tag),{ref:"vsSlide",class:"vs-carousel__slide",tabindex:"0"},{default:e.withCtx(()=>[e.renderSlot(n.$slots,"default")]),_:3},512))}}),y={install:t=>{t.component("Carousel",w),t.component("Slide",p)}};r.Carousel=w,r.Slide=p,r.VueSnap=y,r.default=y,Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});

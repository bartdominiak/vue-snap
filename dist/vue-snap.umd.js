(function(s,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(s=typeof globalThis<"u"?globalThis:s||self,e(s.VueSnap={},s.Vue))})(this,function(s,e){"use strict";const b=typeof window<"u",C=(l,t,n=5)=>Math.abs(l-t)<=n;function y(l,t){let n=null;const a=(...u)=>{n&&clearTimeout(n),n=setTimeout(()=>{l(...u)},t)};return a.cancel=()=>{n&&clearTimeout(n),n=null},a}const T=100;function k(l,t){const n=e.ref(!0),a=e.ref(!1),u=e.ref(0),d=()=>t.value?Array.from(t.value.children??[]).map(o=>({offsetLeft:o.offsetLeft,offsetWidth:o.offsetWidth})):[],S=o=>t.value?o.findIndex(({offsetLeft:r})=>C(r,t.value.scrollLeft,10)):-1,h=o=>{if(!t.value)return;const{scrollLeft:r,offsetWidth:c,scrollWidth:B}=t.value;o!==u.value&&l("slideChange",o),u.value=o;const _=o===0,O=C(r+c,B,10);_?(n.value=!0,l("leftBound",!0)):n.value=!1,O?(a.value=!0,l("rightBound",!0)):a.value=!1},m=o=>{const r=d(),c=S(r);if(c===-1)return;const B=c+o,_=r[B];!_||!t.value||t.value.scrollTo({left:_.offsetLeft,behavior:"smooth"})},i=o=>{const c=d()[o];!c||!t.value||t.value.scrollTo({left:c.offsetLeft,behavior:"smooth"})},f=()=>{const o=d(),r=S(o);r!==-1&&h(r)},g=y(f,T);return e.onMounted(()=>{!b||!t.value||(f(),t.value.addEventListener("scroll",g),l("mounted",!0))}),e.onBeforeUnmount(()=>{!b||!t.value||t.value.removeEventListener("scroll",g)}),{goToSlide:i,changeSlide:m,isBoundLeft:n,isBoundRight:a}}const E={class:"vs-carousel"},I=["aria-label","disabled"],R=["aria-label","disabled"],w=e.defineComponent({__name:"Carousel",props:{tag:{default:"ul"},hideArrowsOnBound:{type:Boolean,default:!1},i18n:{default:()=>({slideLeft:"Slide left",slideRight:"Slide right"})}},emits:["mounted","slideChange","leftBound","rightBound"],setup(l,{expose:t,emit:n}){const a=n,u=e.ref(null),{changeSlide:d,goToSlide:S,isBoundLeft:h,isBoundRight:m}=k(a,u);return t({changeSlide:d,goToSlide:S}),(i,f)=>(e.openBlock(),e.createElementBlock("div",E,[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(i.tag),{ref_key:"vsWrapper",ref:u,class:"vs-carousel__wrapper"},{default:e.withCtx(()=>[e.renderSlot(i.$slots,"default")]),_:3},512)),e.renderSlot(i.$slots,"arrows",e.normalizeProps(e.guardReactiveProps({changeSlide:e.unref(d),isBoundLeft:e.unref(h),isBoundRight:e.unref(m)})),()=>[e.withDirectives(e.createElementVNode("button",{type:"button","aria-label":i.i18n.slideLeft,disabled:e.unref(h),class:"vs-carousel__arrows vs-carousel__arrows--left",onClick:f[0]||(f[0]=g=>e.unref(d)(-1))}," ← ",8,I),[[e.vShow,i.hideArrowsOnBound?!e.unref(h):!0]]),e.withDirectives(e.createElementVNode("button",{type:"button","aria-label":i.i18n.slideRight,disabled:e.unref(m),class:"vs-carousel__arrows vs-carousel__arrows--right",onClick:f[1]||(f[1]=g=>e.unref(d)(1))}," → ",8,R),[[e.vShow,i.hideArrowsOnBound?!e.unref(m):!0]])])]))}}),L=e.defineComponent({__name:"Slide",props:{tag:{type:String,default:"li"}},setup(l){return(t,n)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l.tag),{ref:"vsSlide",class:"vs-carousel__slide",tabindex:"0"},{default:e.withCtx(()=>[e.renderSlot(t.$slots,"default")]),_:3},512))}}),p={install:l=>{l.component("Carousel",w),l.component("Slide",L)}};s.Carousel=w,s.Slide=L,s.VueSnap=p,s.default=p,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
